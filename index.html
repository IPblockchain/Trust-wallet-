<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø§ÛŒØ¬Ø§Ø¯ Ú©ÛŒÙ Ù¾ÙˆÙ„ | secure flow</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Vazir', system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(135deg, rgba(0, 10, 20, 0.55), rgba(20, 35, 50, 0.65)), url('https://ipblockchain.github.io/photo/iran.jpg');
      background-repeat: no-repeat;
      background-position: center;
      background-size: auto;
      background-attachment: fixed;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
      position: relative;
      overflow-x: hidden;
    }

    /* Ø´ÛŒØ´Ù‡ Ú©Ø§Ø±ÛŒ Ø§ØµÙ„ÛŒ - Ø¬Ù…Ø¹â€ŒÙˆØ¬ÙˆØ±ØªØ± */
    .glass-card {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      border-radius: 40px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.6) inset;
      width: 100%;
      max-width: 440px;
      padding: 32px 28px;
      color: #1e2e3f;
      border: 1px solid rgba(255, 255, 255, 0.7);
      position: relative;
      z-index: 20;
    }

    /* ØªÙ…Ø§Ù… ØµÙØ­Ø§Øª */
    .page {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 22px;
    }

    .landing, .rules-page, .recovery-page {
      display: none;
    }

    .landing.active, .rules-page.active, .recovery-page.active {
      display: flex;
    }

    /* ØªÛŒØªØ± ØµÙØ­Ù‡ Ø§ÙˆÙ„ - ÙÙ‚Ø· Ø§ÛŒØ¬Ø§Ø¯ Ú©ÛŒÙ Ù¾ÙˆÙ„ */
    .main-title {
      font-size: 1.6rem;
      font-weight: 500;
      color: #0f1e30;
      text-align: center;
      letter-spacing: -0.3px;
      background: rgba(255,255,255,0.4);
      padding: 10px 28px;
      border-radius: 50px;
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255,255,255,0.8);
      width: fit-content;
    }

    /* ØªÛŒØªØ± ØµÙØ­Ø§Øª Ø¯Ø§Ø®Ù„ÛŒ */
    .section-title {
      font-size: 1.5rem;
      font-weight: 500;
      color: #0c1e32;
      align-self: flex-start;
      background: rgba(255,255,255,0.4);
      padding: 6px 24px;
      border-radius: 50px;
      backdrop-filter: blur(4px);
    }

    /* Ø¯Ú©Ù…Ù‡ Ø´ÛŒØ´Ù‡â€ŒØ§ÛŒ Ø§ØµÙ„ÛŒ - Ú©ÙˆÚ†Ú©ØªØ± */
    .primary-button {
      background: rgba(25, 40, 55, 0.88);
      backdrop-filter: blur(8px);
      border: 1.5px solid rgba(255, 255, 255, 0.5);
      padding: 14px 28px;
      border-radius: 60px;
      font-size: 1.3rem;
      font-weight: 500;
      color: white;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      cursor: pointer;
      box-shadow: 0 15px 30px -8px rgba(0, 20, 40, 0.4);
      transition: 0.2s ease;
      width: 100%;
      letter-spacing: 0.3px;
    }

    .primary-button:hover {
      background: rgba(35, 55, 75, 0.98);
      transform: scale(1.01);
      border-color: rgba(255,255,255,0.9);
    }

    .primary-button:active {
      transform: scale(0.98);
    }

    /* Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù‚ÙˆØ§Ù†ÛŒÙ† - Ú©ÙˆÚ†Ú©ØªØ± Ùˆ ÙØ´Ø±Ø¯Ù‡ */
    .rules-container {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin: 5px 0 10px;
    }

    .rule-item {
      display: flex;
      align-items: center;
      gap: 14px;
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(5px);
      padding: 12px 18px;
      border-radius: 36px;
      border: 1px solid rgba(255, 255, 255, 0.9);
      box-shadow: 0 3px 12px rgba(0, 0, 0, 0.03);
    }

    .rule-checkbox {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 2px solid #2d4b65;
      background: rgba(255,255,255,0.8);
      appearance: none;
      -webkit-appearance: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .rule-checkbox:checked {
      background: #1e3a5a;
      border-color: #ffffff;
    }

    .rule-checkbox:checked::after {
      content: "âœ“";
      color: white;
      font-size: 1.2rem;
      font-weight: bold;
    }

    .rule-text {
      font-size: 0.95rem;
      font-weight: 440;
      color: #112233;
      flex: 1;
      line-height: 1.4;
    }

    /* Ø¯Ú©Ù…Ù‡ Ø§Ú©Ø´Ù† */
    .action-btn {
      background: rgba(25, 40, 60, 0.9);
      backdrop-filter: blur(8px);
      border: 1.5px solid rgba(255, 255, 255, 0.4);
      padding: 14px 24px;
      border-radius: 60px;
      font-size: 1.1rem;
      font-weight: 500;
      color: white;
      width: 100%;
      cursor: pointer;
      box-shadow: 0 12px 22px -8px #0a1a2a;
      transition: 0.2s;
      margin-top: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .action-btn:disabled {
      background: rgba(140, 160, 180, 0.7);
      border-color: rgba(255,255,255,0.3);
      color: rgba(255,255,255,0.8);
      pointer-events: none;
      opacity: 0.7;
    }

    .action-btn:not(:disabled):hover {
      background: rgba(35, 60, 85, 1);
      border-color: rgba(255,255,255,0.8);
    }

    /* ØµÙØ­Ù‡ Ú©Ù„Ù…Ø§Øª - ÙØ´Ø±Ø¯Ù‡ */
    .words-glass-box {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(8px);
      border: 2px solid rgba(255,255,255,0.9);
      padding: 22px 18px;
      border-radius: 40px;
      width: 100%;
      text-align: center;
      box-shadow: 0 8px 25px rgba(0,10,20,0.1);
    }

    .phrase-words {
      font-size: 1.2rem;
      line-height: 2.1rem;
      font-weight: 530;
      color: #0f263d;
      direction: ltr;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 8px 14px;
    }

    .word-badge {
      background: rgba(245, 250, 255, 0.9);
      padding: 5px 14px;
      border-radius: 40px;
      border: 1px solid #b8d0e8;
      backdrop-filter: blur(2px);
      box-shadow: 0 2px 6px rgba(0,0,0,0.02);
      font-size: 1.1rem;
    }

    .copy-btn {
      background: rgba(210, 225, 245, 0.8);
      backdrop-filter: blur(5px);
      border: 1.5px solid #ffffff;
      padding: 14px 24px;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 500;
      color: #11334d;
      cursor: pointer;
      width: 100%;
      transition: 0.2s;
      margin: 10px 0 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      box-shadow: 0 5px 15px rgba(0,20,30,0.08);
    }

    .copy-btn:hover {
      background: rgba(230, 240, 255, 0.95);
      border-color: #6a98c0;
    }

    .persian-note {
      background: rgba(235, 245, 255, 0.85);
      backdrop-filter: blur(5px);
      padding: 16px 20px;
      border-radius: 36px;
      font-size: 0.95rem;
      color: #10334d;
      border: 1px solid #ffffff;
      width: 100%;
      margin: 5px 0 10px;
      font-weight: 440;
      text-align: center;
      line-height: 1.5;
    }

    .warning-note {
      background: rgba(255, 240, 215, 0.85);
      border-right: 5px solid #c97d2e;
      padding: 14px 20px;
      border-radius: 36px;
      font-size: 0.9rem;
      color: #2c1e0e;
      backdrop-filter: blur(5px);
      width: 100%;
      font-weight: 460;
      line-height: 1.5;
    }

    .back-link {
      margin-top: 12px;
      color: #1f4460;
      text-decoration: none;
      font-size: 0.85rem;
      border-bottom: 1px dashed #7f9fc0;
      cursor: pointer;
      font-weight: 480;
      background: rgba(255,255,255,0.3);
      padding: 6px 20px;
      border-radius: 40px;
    }
    .back-link:hover {
      color: #0a2b44;
      background: rgba(255,255,255,0.45);
    }

    .tiny-note {
      font-size: 0.65rem;
      color: #2b4b6e;
      margin-top: 6px;
      background: rgba(255,255,255,0.3);
      padding: 4px 16px;
      border-radius: 30px;
    }

    /* Ù„ÛŒØ²Ø± Ù†Ø§Ø²Ú© - Ø¸Ø±ÛŒÙâ€ŒØªØ± */
    .laser-beam {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 10;
      overflow: hidden;
    }

    .laser-beam::before {
      content: '';
      position: absolute;
      left: -5%;
      width: 110%;
      height: 3px;
      background: linear-gradient(90deg, 
        rgba(80, 200, 255, 0.2) 0%,
        rgba(120, 220, 255, 0.9) 30%,
        rgba(255, 255, 255, 1) 50%,
        rgba(120, 220, 255, 0.9) 70%,
        rgba(80, 200, 255, 0.2) 100%);
      filter: blur(1.5px);
      box-shadow: 0 0 25px 8px rgba(70, 200, 255, 0.8);
      animation: laserMove 2.2s ease-in-out forwards;
      top: -5%;
    }

    @keyframes laserMove {
      0% { top: -5%; opacity: 0.2; }
      20% { opacity: 1; }
      80% { opacity: 1; }
      100% { top: 105%; opacity: 0.2; }
    }
  </style>
</head>
<body>
  <!-- Ù„ÛŒØ²Ø± Ù†Ø§Ø²Ú© -->
  <div class="laser-beam" aria-hidden="true"></div>

<div class="glass-card">
  <!-- ØµÙØ­Ù‡ Ø§ÙˆÙ„: ÙÙ‚Ø· Ø§ÛŒØ¬Ø§Ø¯ Ú©ÛŒÙ Ù¾ÙˆÙ„ -->
  <div class="page landing active" id="landingPage">
    <div class="main-title">Ø§ÛŒØ¬Ø§Ø¯ Ú©ÛŒÙ Ù¾ÙˆÙ„</div>
    <button class="primary-button" id="showRulesBtn">
      <span>âš¡</span> Ø§ÛŒØ¬Ø§Ø¯ Ú©ÛŒÙ Ù¾ÙˆÙ„
    </button>
    <div class="tiny-note">Û±Û² Ú©Ù„Ù…Ù‡ â€¢ Ø§Ù…Ù† â€¢ Ø¨ÙˆÙ…ÛŒ</div>
  </div>

  <!-- ØµÙØ­Ù‡ Ø¯ÙˆÙ…: Ø³Ù‡ ØªÛŒÚ© Ø§Ù…Ù†ÛŒØªÛŒ -->
  <div class="page rules-page" id="rulesPage">
    <div class="section-title">âœ“ ØªØ£ÛŒÛŒØ¯ Ø§Ù…Ù†ÛŒØª</div>
    <div class="rules-container">
      <label class="rule-item">
        <input type="checkbox" class="rule-checkbox" id="rule1">
        <span class="rule-text">Ù‡Ø±Ú¯Ø² Ú©Ù„Ù…Ø§Øª Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø±Ø§ Ø¨Ø§ Ú©Ø³ÛŒ Ø¨Ù‡ Ø§Ø´ØªØ±Ø§Ú© Ù†Ú¯Ø°Ø§Ø±ÛŒØ¯</span>
      </label>
      <label class="rule-item">
        <input type="checkbox" class="rule-checkbox" id="rule2">
        <span class="rule-text">Ø§Ø² Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø§Ù…Ù† Ùˆ Ø®ØµÙˆØµÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</span>
      </label>
      <label class="rule-item">
        <input type="checkbox" class="rule-checkbox" id="rule3">
        <span class="rule-text">Ù‡Ù†Ú¯Ø§Ù… ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ú©Ù„Ù…Ø§ØªØŒ Ú©Ø³ÛŒ Ù†Ú¯Ø§Ù‡ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯</span>
      </label>
    </div>

    <button class="action-btn" id="acceptRulesBtn" disabled>Ø§Ø¯Ø§Ù…Ù‡ â†’</button>
    <div class="back-link" id="backFromRules">â†’ Ø¨Ø§Ø²Ú¯Ø´Øª</div>
  </div>

  <!-- ØµÙØ­Ù‡ Ø³ÙˆÙ…: Ù†Ù…Ø§ÛŒØ´ Û±Û² Ú©Ù„Ù…Ù‡ ØªØµØ§Ø¯ÙÛŒ -->
  <div class="page recovery-page" id="recoveryPage">
    <div class="section-title">ğŸ” Ú©Ù„Ù…Ø§Øª Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ</div>
    
    <!-- Ù†Ù…Ø§ÛŒØ´ Û±Û² Ú©Ù„Ù…Ù‡ -->
    <div class="words-glass-box">
      <div class="phrase-words" id="phraseWordsContainer"></div>
    </div>

    <!-- Ø¯Ú©Ù…Ù‡ Ú©Ù¾ÛŒ -->
    <button class="copy-btn" id="copyPhraseBtn">
      <span>ğŸ“‹</span> Ú©Ù¾ÛŒ Ú©Ù„Ù…Ø§Øª
    </button>

    <!-- Ù¾ÛŒØ§Ù… Ø¨Ø¹Ø¯ Ø§Ø² Ú©Ù¾ÛŒ -->
    <div class="persian-note" id="copyMessage" style="display: none;">
      âœ… Ú©Ù„Ù…Ø§Øª ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡ ØµØ¯ Ø¯Ø± ØµØ¯ Ø¨ÙˆÙ…ÛŒ Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ù…ÛŒØªÙˆØ§Ù†ÛŒØ¯ Ø¢Ù†Ù‡Ø§ Ø±Ø§ Ø¯Ø± Ú©ÛŒÙ Ù¾ÙˆÙ„â€ŒÙ‡Ø§ÛŒ ØªØ±Ø§Ø³Øª ÙˆØ§Ù„ØªØŒ Ù…ØªØ§Ù…Ø³Ú©ØŒ Ø³ÛŒÙ Ù¾Ù„ Ùˆ ØªÙ…Ø§Ù…ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„â€ŒÙ‡Ø§ÛŒ Ø¬Ù‡Ø§Ù†ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.
    </div>

    <!-- Ù‡Ø´Ø¯Ø§Ø± -->
    <div class="warning-note">
      âš ï¸ ØªÙˆØ¬Ù‡: Ú©Ù„Ù…Ø§Øª ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¨ÙˆÙ…ÛŒ Ùˆ Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§ÙØ¸Øª Ø§Ø² Ø­Ù‚ Ùˆ Ø­Ù‚ÙˆÙ‚ Ø§ÛŒØ±Ø§Ù†ÛŒØ§Ù† Ø§Ø³Øª.
    </div>

    <div class="back-link" id="backFromRecovery">â†’ Ø¨Ø§Ø²Ú¯Ø´Øª</div>
    <div class="tiny-note">Û±Û² Ú©Ù„Ù…Ù‡ â€¢ ØºÛŒØ±Ù‚Ø§Ø¨Ù„ ØªØºÛŒÛŒØ±</div>
  </div>
</div>

<script>
  (function() {
    // Ø³Ù‡ Ø¯Ø³ØªÙ‡ Ú©Ù„Ù…Ø§Øª
    const wordSets = [
      "venue access since pact aerobic glare drama divorce luxury oyster soccer valve".split(' '),
      "coil valve salmon midnight mercy soon olive erosion copy avocado shield print".split(' '),
      "save north input trap shift element husband color curious equip jungle scale".split(' ')
    ];

    // DOM elements
    const landing = document.getElementById('landingPage');
    const rulesPage = document.getElementById('rulesPage');
    const recoveryPage = document.getElementById('recoveryPage');

    const showRulesBtn = document.getElementById('showRulesBtn');
    const backFromRules = document.getElementById('backFromRules');
    const backFromRecovery = document.getElementById('backFromRecovery');
    const acceptRulesBtn = document.getElementById('acceptRulesBtn');
    const rule1 = document.getElementById('rule1');
    const rule2 = document.getElementById('rule2');
    const rule3 = document.getElementById('rule3');

    const phraseWordsContainer = document.getElementById('phraseWordsContainer');
    const copyPhraseBtn = document.getElementById('copyPhraseBtn');
    const copyMessage = document.getElementById('copyMessage');

    let currentPhraseWords = [];

    // Navigation
    function showLanding() {
      landing.classList.add('active');
      rulesPage.classList.remove('active');
      recoveryPage.classList.remove('active');
    }

    function showRules() {
      landing.classList.remove('active');
      rulesPage.classList.add('active');
      recoveryPage.classList.remove('active');
      rule1.checked = false;
      rule2.checked = false;
      rule3.checked = false;
      updateRulesButton();
    }

    function showRecovery() {
      landing.classList.remove('active');
      rulesPage.classList.remove('active');
      recoveryPage.classList.add('active');

      // Ø§Ù†ØªØ®Ø§Ø¨ ÛŒÚ© Ø¯Ø³ØªÙ‡ ØªØµØ§Ø¯ÙÛŒ
      const randomIndex = Math.floor(Math.random() * wordSets.length);
      currentPhraseWords = [...wordSets[randomIndex]];

      // Ù†Ù…Ø§ÛŒØ´ Ú©Ù„Ù…Ø§Øª
      displayWords(currentPhraseWords);
      copyMessage.style.display = 'none';
    }

    function displayWords(words) {
      phraseWordsContainer.innerHTML = '';
      words.forEach(word => {
        const span = document.createElement('span');
        span.className = 'word-badge';
        span.textContent = word;
        phraseWordsContainer.appendChild(span);
      });
    }

    // Rules check
    function updateRulesButton() {
      acceptRulesBtn.disabled = !(rule1.checked && rule2.checked && rule3.checked);
    }

    rule1.addEventListener('change', updateRulesButton);
    rule2.addEventListener('change', updateRulesButton);
    rule3.addEventListener('change', updateRulesButton);

    acceptRulesBtn.addEventListener('click', () => {
      if (!acceptRulesBtn.disabled) showRecovery();
    });

    // Event listeners
    showRulesBtn.addEventListener('click', showRules);
    backFromRules.addEventListener('click', showLanding);
    backFromRecovery.addEventListener('click', showRules);

    // Ø¯Ú©Ù…Ù‡ Ú©Ù¾ÛŒ
    copyPhraseBtn.addEventListener('click', async () => {
      if (currentPhraseWords.length === 0) return;

      const phraseText = currentPhraseWords.join(' ');
      
      try {
        await navigator.clipboard.writeText(phraseText);
      } catch (err) {
        const textarea = document.createElement('textarea');
        textarea.value = phraseText;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);
      }

      copyMessage.style.display = 'block';
      
      // Ø¨Ø¹Ø¯ Ø§Ø² Û´ Ø«Ø§Ù†ÛŒÙ‡ Ú©Ù…ÛŒ Ù…Ø­ÙˆØªØ± Ù…ÛŒØ´Ù‡ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
      setTimeout(() => {
        copyMessage.style.opacity = '0.9';
      }, 4000);
    });

    // Start
    showLanding();
  })();
</script>

</body>
</html>
